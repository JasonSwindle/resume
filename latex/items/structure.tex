%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\usepackage[
    paper=a4paper,
    left=50pt,
    right=50pt,
    top=35pt,
    bottom=50pt,
    nomarginpar,
    nohead
]{geometry}

\usepackage{
    xparse,       % For \NewDocumentCommand
    tabularx,
    multirow,
    enumitem,
    titlesec,
    xifthen,
    microtype,
    lastpage,
    mathptmx,     % PDF Stuff
    phonenumbers, % Phone number formatting
    fancyhdr,
    multicol,
    hyperref
}

\usepackage[super]{nth} % Ordinal numbers
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage[english,printdayoff]{isodate}

\usepackage[
    noeditdata=true,
    noproducerdata=false
]{pdfprivacy}

%----------------------------------------------------------------------------------------
%	PDF METADATA
%----------------------------------------------------------------------------------------

\pdfmajorversion=2
\pdfminorversion=0
\pdfobjcompresslevel=2
\pdfinclusionerrorlevel=1

\hypersetup{
    pdfauthor={\yourname},%
    pdftitle={\yourname{} - Resume},
    pdfsubject={Resume},
    pdfkeywords={Resume, AWS, GCP, Google, DevOps, TAM},
    pdfproducer={LaTeX},
    pdfcreator={pdfLaTeX},
    allcolors=black,
    hidelinks
}

%----------------------------------------------------------------------------------------
%	LIST CONFIGURATION
%----------------------------------------------------------------------------------------

\setlist[itemize]{
    topsep=5pt,
    parsep=0pt,
    itemsep=6pt
}

%----------------------------------------------------------------------------------------
%	HEADER & FOOTER
%----------------------------------------------------------------------------------------

\pagestyle{fancy}
\fancyhf{}
\fancyfoot[L]{\yourname}
\fancyfoot[R]{Page \thepage\ of \pageref{LastPage}}
\renewcommand{\headrulewidth}{0pt}

%----------------------------------------------------------------------------------------
%	SECTION FORMATTING
%----------------------------------------------------------------------------------------

\titleformat{\section}{\scshape\raggedright}{}{-15pt}{}
[\vspace{-9pt}\hspace*{-15pt}\titlerule]
\titlespacing{\section}{0pt}{0pt}{1pt}

\raggedright

%----------------------------------------------------------------------------------------
%	CUSTOM COMMANDS
%----------------------------------------------------------------------------------------

% Roman numerals
\newcommand{\RNum}[1]{\uppercase\expandafter{\romannumeral #1\relax}}

% Helper for date ranges
\NewDocumentCommand{\formatdaterange}{m m}{
    \ifthenelse{\isempty{#2}}{{\printdate{#1} to Present}}{{\daterange{#1}{#2}}}
}

% Helper for consistent table layout
\NewDocumentCommand{\MakeResumeTable}{m}{
    \setlength\tabcolsep{0pt}
    \begin{tabularx}{\textwidth}{X r}
        #1
    \end{tabularx}
}

\NewDocumentCommand{\roleheader}{m m m m m}{
    % \roleheader
    %     {Company Name}
    %     {Location}
    %     {Title}
    %     {Start Date in '2018-09-17' format}
    %     {End Date in '2018-09-17' format, if left blank, it will print 'Present'}

    \MakeResumeTable{
        \textbf{#1} & #2 \\
        #3 & \formatdaterange{#4}{#5}
    }
}

\NewDocumentCommand{\projectitem}{m m m}{
    % \projectitem
    %     {Project Name}
    %     {URL}
    %     {Description}

    \MakeResumeTable{
        \textbf{#1} & #2 \\
        \multicolumn{2}{p{\textwidth}}{#3}
    }\\[5pt]
}

\NewDocumentCommand{\educationitem}{m m m m m}{
    % \educationitem
    %     {University Name}
    %     {Location}
    %     {Degree}
    %     {Start Date in '2018-09-17' format}
    %     {End Date in '2018-09-17' format, if left blank, it will print 'Present'}

    \MakeResumeTable{
        \textbf{#1} & #2 \\
        #3 & \formatdaterange{#4}{#5}
    }
}

\NewDocumentCommand{\awarditem}{m m m m}{
    % \awarditem
    %     {Award}
    %     {Award Provider}
    %     {Description}
    %     {Date in '2018-09-17' format}

    \MakeResumeTable{
        \textbf{#1} & #2 \\
        #3 & \printdate{#4}
    }\\[5pt]
}

\NewDocumentCommand{\profile}{m m m m m}{
    % \profile
    %     {Name}
    %     {Email Address}
    %     {Two digit Country Code}
    %     {Phone Number}
    %     {website, if left blank, it will be omitted} 

    \centering
    \begin{tabular}{ccc}
        \multicolumn{3}{c}{\Huge \scshape {#1}}                                 \\ \\
        {\href{mailto:#2}{#2}}                                                &
        \ifthenelse{\isempty{#4}}{}{{\phonenumber[country={#3},foreign]{#4}}} &
        {#5}                                                                    \\[5pt]
    \end{tabular}
}